# 二分答案算法通用模板 🎯

这是一个专门介绍**二分答案（Binary Search on Answer）**算法的仓库分支。二分答案是算法竞赛中的重要技巧，特别适用于求解**最大值最小化**或**最小值最大化**问题。

## 🔍 什么是二分答案

二分答案是一种通过二分搜索可能解来找到最优解的算法技术。它的核心思想是：

- 当我们需要求解一个最优化问题时
- 如果答案具有**单调性**（即如果某个值可行，那么比它更小/更大的值也可行）
- 我们可以对答案的取值范围进行二分搜索
- 通过判断当前答案是否可行来缩小搜索范围

## 📋 算法模板

### 核心思路
1. **确定答案范围**：找到答案可能的最小值 `l` 和最大值 `r`
2. **设计检查函数**：编写 `check(mid)` 函数判断答案 `mid` 是否可行
3. **二分搜索**：根据检查结果调整搜索范围
4. **更新答案**：在可行解中寻找最优解

### 通用代码框架
```cpp
int l = 最小可能值, r = 最大可能值, ans = 初始答案;
while(l <= r) {
    int mid = (l + r) / 2;
    if(check(mid)) {  // 如果mid可行
        ans = mid;    // 更新答案
        // 根据题目要求调整搜索方向
        l = mid + 1;  // 求最大值
        // 或 r = mid - 1;  // 求最小值
    } else {
        // 调整到另一个方向
        r = mid - 1;  // 或 l = mid + 1;
    }
}
```

## 💡 示例问题：矩形切割

本仓库提供了一个经典的二分答案问题示例：

### 问题描述
给定 n 个矩形，每个矩形有长度 h[i] 和宽度 w[i]。现在要从这些矩形中切割出至少 k 个相同的正方形，求这些正方形的最大可能边长。

### 解题思路
1. **答案范围**：正方形边长范围是 [1, 100000]
2. **单调性分析**：如果边长为 d 的正方形可以切割出 k 个，那么边长小于 d 的正方形一定也能切割出至少 k 个
3. **检查函数**：对于给定边长 d，计算所有矩形能切割出的正方形总数
4. **二分策略**：寻找满足条件的最大边长

### 代码实现
详见文件：[二分答案通用公式](./二分答案通用公式)

### 关键代码解析
```cpp
bool check(int d) {
    int ans = 0;
    for(int i = 0; i < n; i++) {
        ans += (h[i]/d) * (w[i]/d);  // 每个矩形能切出的正方形数
    }
    return ans >= k;  // 判断是否满足要求
}
```

## 🎯 适用场景

二分答案算法特别适用于以下类型的问题：

### 1. 最大值最小化问题
- **木材切割**：将木材切成若干段，使最长段尽可能短
- **任务分配**：将任务分配给工人，使最大工作量最小
- **网络延迟**：选择服务器位置，使最大延迟最小

### 2. 最小值最大化问题
- **资源分配**：分配有限资源，使最小收益最大
- **距离问题**：在数轴上放置点，使最小距离最大
- **容量问题**：设计容器，使最小容量最大

### 3. 判定性问题
- **可行性检验**：判断某个方案是否可行
- **阈值问题**：找到满足条件的临界值
- **优化问题**：在约束条件下寻找最优解

## 🚀 学习指南

### 第一步：理解概念
1. 掌握二分搜索的基本原理
2. 理解什么是"答案的单调性"
3. 学会识别可以用二分答案解决的问题

### 第二步：模板练习
1. 熟练掌握二分答案的代码模板
2. 练习编写不同类型的检查函数
3. 注意边界条件和循环终止条件

### 第三步：实战应用
1. 从简单的二分答案题目开始
2. 逐步挑战更复杂的问题
3. 总结常见的问题类型和解题套路

### 第四步：优化提升
1. 学习如何优化检查函数的时间复杂度
2. 掌握处理浮点数二分的技巧
3. 了解二分答案与其他算法的结合

## 📚 扩展学习

### 相关算法
- **二分搜索**：二分答案的基础
- **贪心算法**：常与二分答案结合使用
- **动态规划**：某些DP问题可以用二分答案优化
- **图论算法**：最短路、最小生成树等问题的二分应用

### 进阶主题
- **三分搜索**：处理单峰函数的优化问题
- **并行二分**：处理多个查询的高效方法
- **分数规划**：最优比率问题的二分解法
- **参数搜索**：计算几何中的二分应用

## 🏆 竞赛应用

二分答案在各大算法竞赛中都是重要考点：

- **NOIP/CSP**：经常出现二分答案的题目
- **ACM-ICPC**：区域赛和世界总决赛的常见算法
- **Codeforces**：Div1和Div2都有相关题目
- **AtCoder**：ABC和ARC中的经典算法

## 💡 解题技巧

1. **识别问题类型**：看到"最大值最小化"或"最小值最大化"要想到二分答案
2. **分析单调性**：确保答案具有单调性质
3. **设计检查函数**：这是解题的关键，要保证正确性和效率
4. **确定搜索范围**：合理设置左右边界，避免溢出
5. **注意边界处理**：特别是等号的使用和循环终止条件

---

**让我们一起掌握二分答案这个强大的算法工具！** 🚀

如果你觉得这个模板对你有帮助，欢迎 ⭐ Star 支持！
